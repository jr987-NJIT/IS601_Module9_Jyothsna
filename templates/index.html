<!DOCTYPE html>
<!--
    Document Type Declaration (DOCTYPE)
    
    The <!DOCTYPE html> declaration defines the document type and version of HTML.
    It ensures that the browser interprets the document as an HTML5 document.
    This declaration is mandatory and should be the very first line in your HTML document.
-->

<html lang="en">
<!--
    <html> Tag
    
    The <html> element is the root element of an HTML page. It encapsulates all other elements
    within the document. The lang="en" attribute specifies that the language of the document is English,
    which aids in accessibility and SEO (Search Engine Optimization).
-->
<head>
    <!--
        <head> Section
        
        The <head> element contains meta-information about the HTML document, such as its title,
        character set, linked resources like CSS and JavaScript files, and other metadata.
        This information is not displayed directly on the web page.
    -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--
        <meta> Tags: Character Set and Viewport
        
        The <meta charset="UTF-8"> tag specifies the character encoding for the HTML document.
        UTF-8 is a widely used encoding that supports virtually all characters from all languages,
        ensuring that text is rendered correctly.
        
        The viewport meta tag ensures the page is responsive on mobile devices.
    -->
    
    <title>Professional Calculator - FastAPI Demo</title>
    <!--
        <title> Tag
        
        The <title> element defines the title of the HTML document, which appears in the browser's
        title bar or tab. It is also used by search engines to understand the content of the page.
    -->
    
    <style>
        /*
            <style> Section: CSS Styles
            
            The <style> element allows you to embed CSS (Cascading Style Sheets) directly within
            the HTML document. CSS is used to style and layout web pages, controlling aspects
            like colors, fonts, spacing, and positioning.
            
            This professional design includes:
            - Modern gradient background
            - Card-based layout with shadows
            - Smooth animations and transitions
            - Hover effects for better UX
            - Responsive design
            - Professional color scheme
        */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            /* 
                Styles for the <body> Element
                
                - font-family: Modern font stack for better readability
                - background: Gradient background for visual appeal
                - min-height: Ensures full viewport height
                - display: flex for centering content
            */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            /* 
                Main container for the entire application
                - White background with rounded corners
                - Box shadow for depth
                - Max width for readability
            */
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 500px;
            width: 100%;
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .header {
            /* 
                Header section styling
                - Gradient text effect
                - Proper spacing
            */
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #666;
            font-size: 1.1em;
            margin-top: 10px;
        }
        
        .calculator {
            /* 
                Styles for the calculator section
                - Background with subtle gradient
                - Border radius and padding
                - Box shadow for card effect
            */
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .calculator h2 {
            color: #333;
            font-size: 1.8em;
            margin-bottom: 25px;
            text-align: center;
            font-weight: 600;
        }
        
        .input-group {
            /* 
                Input group container
                - Flexbox for layout
                - Spacing between elements
            */
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        input {
            /* 
                Styles for <input> Elements
                
                - Modern input styling with border
                - Padding for comfort
                - Transition effects for interactivity
                - Focus state with color change
            */
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            outline: none;
            transition: all 0.3s ease;
            background: white;
        }
        
        input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }
        
        input::placeholder {
            color: #999;
        }
        
        .button-grid {
            /* 
                Button grid layout
                - CSS Grid for equal spacing
                - Gap between buttons
            */
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 25px;
        }
        
        button {
            /* 
                Styles for <button> Elements
                
                - Gradient background for visual appeal
                - White text for contrast
                - Padding for clickability
                - Smooth transitions
                - Hover and active states
            */
            padding: 15px 20px;
            font-size: 1.1em;
            font-weight: 600;
            color: white;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }
        
        button:active {
            transform: translateY(-1px);
        }
        
        button:nth-child(1) {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        button:nth-child(2) {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        button:nth-child(3) {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        button:nth-child(4) {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }
        
        .result {
            /* 
                Styles for the result display
                
                - Centered text
                - Background for visibility
                - Rounded corners
                - Padding and animation
            */
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 10px;
            padding: 20px;
            font-size: 1.3em;
            font-weight: 600;
            color: #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.5s ease-in;
        }
        
        .result.success {
            background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
            color: #2d5016;
        }
        
        .result.error {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: #8b0000;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #666;
            font-size: 0.9em;
        }
        
        .footer a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }
        
        .footer a:hover {
            text-decoration: underline;
        }
        
        /* Responsive design for mobile devices */
        @media (max-width: 600px) {
            .container {
                padding: 25px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .calculator h2 {
                font-size: 1.5em;
            }
            
            .button-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!--
        <body> Section
        
        The <body> element contains all the contents of an HTML document, such as text, images,
        links, buttons, and other media. Everything within the <body> tag is rendered on the
        web page and visible to users.
        
        This professional design uses a container-based layout for better organization.
    -->
    
    <div class="container">
        <!--
            Main Container
            
            The container holds all the content and provides consistent spacing and styling.
        -->
        
        <div class="header">
            <!--
                Header Section
                
                Contains the main title and subtitle of the application.
            -->
            <h1>üßÆ Professional Calculator</h1>
            <!--
                <h1> Tag: Main Heading
                
                The <h1> element represents the most important heading on the page. It is typically used
                for the main title or headline. Search engines give significant weight to <h1> tags for SEO.
                This heading uses a gradient text effect for modern appeal.
                Updated to be more relevant and professional for the calculator application.
            -->
            
            <p>Advanced Arithmetic Operations with FastAPI</p>
            <!--
                Subtitle
                
                Provides context about the application and creates a professional appearance.
                Describes the core functionality of the application.
            -->
        </div>
        
        <div class="calculator">
            <!--
                <div> Element with "calculator" Class
                
                The <div> element is a generic container used to group other elements. The class="calculator"
                attribute assigns the "calculator" class to this <div>, allowing it to be styled using CSS.
                This section contains the calculator interface, including input fields and buttons.
            -->
            
            <h2>üî¢ Calculator</h2>
            <!--
                <h2> Tag: Subheading
                
                The <h2> element represents a secondary heading, subordinate to <h1>. It introduces the
                calculator section of the page. The emoji adds visual interest.
            -->
            
            <div class="input-group">
                <!--
                    Input Group Container
                    
                    Groups the input fields together for better layout control.
                -->
                
                <input type="number" id="a" placeholder="Enter first number" step="any">
                <!--
                    <input> Element: First Number Input
                    
                    - type="number": Specifies that the input should accept numeric values.
                    - id="a": Assigns a unique identifier "a" to this input, allowing it to be accessed via JavaScript.
                    - placeholder: Displays helpful text inside the input field.
                    - step="any": Allows decimal numbers to be entered.
                -->
                
                <input type="number" id="b" placeholder="Enter second number" step="any">
                <!--
                    <input> Element: Second Number Input
                    
                    - type="number": Specifies that the input should accept numeric values.
                    - id="b": Assigns a unique identifier "b" to this input, allowing it to be accessed via JavaScript.
                    - placeholder: Displays helpful text inside the input field.
                    - step="any": Allows decimal numbers to be entered.
                -->
            </div>
            
            <div class="button-grid">
                <!--
                    Button Grid Container
                    
                    Uses CSS Grid to create an equal-spaced grid of operation buttons.
                -->
                
                <button onclick="calculate('add')">‚ûï Add</button>
                <!--
                    <button> Element: Add Button
                    
                    - onclick="calculate('add')": Sets up an event handler that calls the JavaScript function "calculate"
                      with the argument 'add' when the button is clicked.
                    - Icon and text for better UX
                -->
                
                <button onclick="calculate('subtract')">‚ûñ Subtract</button>
                <!--
                    <button> Element: Subtract Button
                    
                    - onclick="calculate('subtract')": Sets up an event handler that calls the JavaScript function "calculate"
                      with the argument 'subtract' when the button is clicked.
                    - Icon and text for better UX
                -->
                
                <button onclick="calculate('multiply')">‚úñÔ∏è Multiply</button>
                <!--
                    <button> Element: Multiply Button
                    
                    - onclick="calculate('multiply')": Sets up an event handler that calls the JavaScript function "calculate"
                      with the argument 'multiply' when the button is clicked.
                    - Icon and text for better UX
                -->
                
                <button onclick="calculate('divide')">‚ûó Divide</button>
                <!--
                    <button> Element: Divide Button
                    
                    - onclick="calculate('divide')": Sets up an event handler that calls the JavaScript function "calculate"
                      with the argument 'divide' when the button is clicked.
                    - Icon and text for better UX
                -->
            </div>
            
            <div class="result" id="result">Ready for calculation...</div>
            <!--
                <div> Element: Result Display
                
                - class="result": Assigns the "result" class to this <div>, allowing it to be styled using CSS.
                - id="result": Assigns a unique identifier "result" to this <div>, enabling it to be accessed and manipulated via JavaScript.
                
                This <div> is used to display the result of the arithmetic operation or any error messages.
                Shows a welcoming message by default.
            -->
        </div>
        
        <div class="footer">
            <!--
                Footer Section
                
                Contains attribution and additional information.
            -->
            <p>Built with ‚ù§Ô∏è using <a href="https://fastapi.tiangolo.com/" target="_blank">FastAPI</a></p>
            <p>IS601 - Web Systems Development | Module 8 Assignment</p>
        </div>
    </div>
    
    <script>
        /*
            <script> Section: JavaScript
            
            The <script> element allows you to embed JavaScript code directly within the HTML document.
            JavaScript is a programming language that enables interactive and dynamic content on web pages.
            In this example, JavaScript is used to handle calculator operations by sending requests to the server
            and updating the page based on the server's response.
            
            Enhanced version includes:
            - Input validation
            - Loading states
            - Visual feedback with CSS classes
            - Better error messages
            - Animation effects
        */
        
        async function calculate(operation) {
            /*
                Function: calculate
                
                The 'calculate' function performs an arithmetic operation by sending a POST request
                to the corresponding API endpoint. It retrieves the input values, sends them to the server,
                and updates the result display based on the server's response.
                
                Parameters:
                - operation (string): The arithmetic operation to perform ('add', 'subtract', 'multiply', 'divide').
                
                Steps:
                1. Retrieve and validate the values from the input fields
                2. Show loading state
                3. Send a POST request to the server
                4. Display the result with appropriate styling
                5. Handle errors gracefully with user-friendly messages
            */
            
            // Retrieve the value of the first input field (ID: 'a') and parse it as a float
            const a = parseFloat(document.getElementById('a').value);
            
            // Retrieve the value of the second input field (ID: 'b') and parse it as a float
            const b = parseFloat(document.getElementById('b').value);
            
            // Get the <div> element where the result or error message will be displayed
            const resultElement = document.getElementById('result');
            
            // Input validation
            if (isNaN(a) || isNaN(b)) {
                resultElement.className = 'result error';
                resultElement.innerHTML = '‚ö†Ô∏è Please enter valid numbers in both fields';
                return;
            }
    
            // Show loading state
            resultElement.className = 'result';
            resultElement.innerHTML = '‚è≥ Calculating...';
            
            // Get operation symbol for display
            const symbols = {
                'add': '+',
                'subtract': '-',
                'multiply': '√ó',
                'divide': '√∑'
            };
            
            try {
                /*
                    Sending the POST Request
                    
                    - fetch('/' + operation, {...}): Sends a POST request to the server at the path corresponding
                      to the operation (e.g., '/add', '/subtract').
                      
                    - method: 'POST': Specifies the HTTP method as POST, indicating that data is being sent to the server.
                    
                    - headers: { 'Content-Type': 'application/json' }: Sets the 'Content-Type' header to 'application/json',
                      informing the server that the request body contains JSON data.
                      
                    - body: JSON.stringify({ a: a, b: b }): Converts the JavaScript object { a: a, b: b } into a JSON string
                      to be sent in the request body.
                */
                const response = await fetch('/' + operation, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ a: a, b: b })
                });
                
                // Await and parse the response as JSON
                const data = await response.json();
                
                // Log the response status and data to the browser's console for debugging
                console.log('Response Status:', response.status);
                console.log('Response Data:', data);
                
                if (response.ok) {
                    /*
                        Successful Response Handling
                    
                        - response.ok: A boolean indicating whether the HTTP status code is in the range 200-299,
                          which means the request was successful.
                          
                        - Display the calculation with proper formatting
                        - Add success class for green styling
                    */
                    resultElement.className = 'result success';
                    const symbol = symbols[operation];
                    resultElement.innerHTML = `
                        ‚úÖ <strong>${a} ${symbol} ${b} = ${data.result}</strong>
                    `;
                } else {
                    /*
                        Error Response Handling
                    
                        - If the response is not successful, it is expected to contain an 'error' field with
                          a descriptive message.
                          
                        - Display error with appropriate styling
                        - Add error class for red styling
                    */
                    resultElement.className = 'result error';
                    resultElement.innerHTML = `‚ùå <strong>Error:</strong> ${data.error}`;
                }
            } catch (error) {
                /*
                    Catch Block: Handling Network or Unexpected Errors
                
                    - Any errors that occur during the fetch operation (e.g., network issues) are caught here.
                    
                    - console.error: Logs the error to the browser's console for debugging.
                    
                    - Display user-friendly error message
                */
                console.error('Fetch error:', error);
                resultElement.className = 'result error';
                resultElement.innerHTML = `‚ùå <strong>Error:</strong> ${error.message || 'Failed to connect to server'}`;
            }
        }
        
        // Add keyboard support - press Enter to calculate
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input[type="number"]');
            inputs.forEach(input => {
                input.addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        // Default to addition when Enter is pressed
                        calculate('add');
                    }
                });
            });
        });
    </script>
</body>
</html>
